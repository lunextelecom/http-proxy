route_default:  
    logging: req, req_body(POST,PUT), resp_body(POST)
    metric: "test.http_proxy.{server_name}.{verb}_{route_name}_{response_code}"

server_default:
    balancer: rr
    health: /health

servers:
    - name: health_server
      target: 10.9.9.62:9004
      health : /
    - name: pos_server
      target: 192.168.93.100:9090,192.168.93.101:9090
      health: /myhealth
    - name: catalog
      target: 192.168.93.100:9090/build_123,192.168.93.101:9090/build_123
      health: ping
    - name: default_server
      target: 192.168.93.102:8080

routes: 
    - name: get_list
      url: "GET /list.*"
      server: health_server
      logging: req

    - name: new_order
      url: "POST /pos/.+/orders/.+"
      server: pos_server
      metric: "{server_name}.{route_name}_{response_code}"

    - name: catalog
      url: "* /(product(s|)|sku(s|))/.*"
      server: catalog_server #balancer, health is default from server_default
      logging: req, req_body(*)
      
    - name: unmapped
      url: "* .*"
      server: default_server
      logging: 'off'      